var holidays = {};
holidays["2015"]=["2015-01-01","2015-01-25","2015-02-16","2015-02-17","2015-04-03","2015-04-21","2015-05-01","2015-06-04","2015-07-09","2015-09-07","2015-10-12","2015-11-02","2015-11-15","2015-11-20","2015-12-24","2015-12-25","2015-12-31"];
holidays["2016"]=["2016-01-01","2016-01-25","2016-02-08","2016-02-09","2016-03-25","2016-04-21","2016-05-01","2016-05-26","2016-07-09","2016-09-07","2016-10-12","2016-11-02","2016-11-15","2016-11-20","2016-12-24","2016-12-25","2016-12-31"];
holidays["2017"]=["2017-01-01","2017-01-25","2017-02-27","2017-02-28","2017-04-14","2017-04-21","2017-05-01","2017-06-15","2017-07-09","2017-09-07","2017-10-12","2017-11-02","2017-11-15","2017-11-20","2017-12-24","2017-12-25","2017-12-31"];
holidays["2018"]=["2018-01-01","2018-01-25","2018-02-12","2018-02-13","2018-03-30","2018-04-21","2018-05-01","2018-05-31","2018-07-09","2018-09-07","2018-10-12","2018-11-02","2018-11-15","2018-11-20","2018-12-24","2018-12-25","2018-12-31"];
holidays["2019"]=["2019-01-01","2019-01-25","2019-03-04","2019-03-05","2019-04-19","2019-04-21","2019-05-01","2019-06-20","2019-07-09","2019-09-07","2019-10-12","2019-11-02","2019-11-15","2019-11-20","2019-12-24","2019-12-25","2019-12-31"];
holidays["2020"]=["2020-01-01","2020-01-25","2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-07-09","2020-09-07","2020-10-12","2020-11-02","2020-11-15","2020-11-20","2020-12-24","2020-12-25","2020-12-31"];
holidays["2021"]=["2021-01-01","2021-01-25","2021-02-15","2021-02-16","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-07-09","2021-09-07","2021-10-12","2021-11-02","2021-11-15","2021-11-20","2021-12-24","2021-12-25","2021-12-31"];
holidays["2022"]=["2022-01-01","2022-01-25","2022-02-28","2022-03-01","2022-04-15","2022-04-21","2022-05-01","2022-06-16","2022-07-09","2022-09-07","2022-10-12","2022-11-02","2022-11-15","2022-11-20","2022-12-24","2022-12-25","2022-12-31"];
holidays["2023"]=["2023-01-01","2023-01-25","2023-02-20","2023-02-21","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-07-09","2023-09-07","2023-10-12","2023-11-02","2023-11-15","2023-11-20","2023-12-24","2023-12-25","2023-12-31"];
holidays["2024"]=["2024-01-01","2024-01-25","2024-02-12","2024-02-13","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-07-09","2024-09-07","2024-10-12","2024-11-02","2024-11-15","2024-11-20","2024-12-24","2024-12-25","2024-12-31"];
holidays["2025"]=["2025-01-01","2025-01-25","2025-03-03","2025-03-04","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-07-09","2025-09-07","2025-10-12","2025-11-02","2025-11-15","2025-11-20","2025-12-24","2025-12-25","2025-12-31"];

Date.prototype.addDays = function(days)
{
    var dat = new Date(this.valueOf());
    dat.setDate(dat.getDate() + days);
    return dat;
}


/* getDay() : return the the workday date X days after some date provided
params:
date: string - start date
n: number of workdays after date.
return string : the the workday date.
*/
var getWorkDay = function(date, n){
  var start = new Date(date);
  var current;
  var i = 1;
  var j= 1
  while(i<=n){
    current = start.addDays(j);
    console.log("status:i="+i+":j="+j+":",current);
    if(!( holiday(current) || weekend(current) )) 	{
        i++;
    	console.log("dia incluido",current);
    }
    j++;
  }
  return current;
}

var weekend = function(date){
  var w = date.getDay();
    
 console.log("w",w);
  if((w==7) || (w==1)) {
      console.log("fds",date);
      return true;
  }
  return false;
}

var holiday = function(date){
  console.log("date:"+date);  
  var list = holidays[date.getFullYear()];
  var text = date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate();
  console.log("text:"+text);
  if(list.indexOf(text) > -1){
      console.log("holiday!");
      return true;
  }
  return false;
}

console.log(getWorkDay("2015-11-17",3));
